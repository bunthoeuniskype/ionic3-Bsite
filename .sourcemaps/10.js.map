{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts","../../node_modules/time-ago-pipe/esm5/time-ago-pipe.js"],"names":[],"mappings":"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B,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,kDAAkD,+CAA+C,EAAE;AACnG,iBAAiB;AACjB;AACA;AACA,SAAS;AACT,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK;AACL;AACA;AACA,aAAa,IAAI;AACjB;AACA;AACA,0CAA0C;AAC1C,KAAK,0EAA2B;AAChC,KAAK,+DAAgB;AACrB,EAAE;AACF;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACQ;AACR","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { HomePage } from './home';\r\nimport {TimeAgoPipe} from 'time-ago-pipe';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    HomePage,\r\n    TimeAgoPipe,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(HomePage),\r\n  ],\r\n  exports: [\r\n    HomePage\r\n  ]\r\n})\r\nexport class HomePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { Http } from '@angular/http';\r\nimport { SocialSharing } from '@ionic-native/social-sharing';\r\nimport {ArticleProvider} from '../../providers/article/article';\r\nimport {CommonProvider} from \"../../providers/common/common\";\r\n\r\n\r\n/**\r\n * Generated class for the HomePage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html',\r\n})\r\nexport class HomePage {\r\n\r\n  //slideData : any;\r\n  datas:any;\r\n  errorMessage: string;\r\n  //posts :any;\r\n // articles : any;\r\n  page =1;\r\n  limit =4;\r\n  totalData = 0;\r\n  totalPage = 0;\r\n\r\n  public noRecords: boolean;\r\n  loadData:any;\r\n  articles:any;\r\n  getData = {  \r\n    \"lastCreated\": \"\",    \r\n  };\r\n\r\n\r\n // private  apiUrl :string = \"http://articlesondesign.com/wp-json/posts?filter[orderby]=rand&filter[posts_per_page]=10\"; //api url to retrieve 10 random articles\r\n\r\n  constructor(public common: CommonProvider,public navCtrl: NavController, public navParams: NavParams,private http:Http, private socialSharing: SocialSharing,public articleService: ArticleProvider,) {\r\n\r\n    //this.slideData = [{ image: \"https://www.jssor.com/demos/img/gallery/1300x500/001.jpg\" },{ image: \"https://www.jssor.com/demos/img/gallery/1300x500/002.jpg\" },{ image: \"https://www.jssor.com/demos/img/gallery/1300x500/003.jpg\" }];\r\n    // this.http.get('https://www.reddit.com/r/gifs/new/.json?limit=10').map(res => res.json()).subscribe(data => {\r\n    //     this.posts = data.data.children;\r\n    // }); \r\n    this.getData.lastCreated = \"\";\r\n    this.noRecords = false;\r\n    this.getArticles(); \r\n    \r\n  }\r\n  async getArticles(){\r\n          this.common.presentLoading();\r\n          this.datas=await this.articleService.getAll(this.page,this.limit);     \r\n          if(this.datas.data){\r\n            this.noRecords = false;\r\n            this.common.closeLoading();\r\n            this.articles =  this.datas.data;\r\n           // this.getData.lastCreated = this.datas.data[articles.length - 1].created;\r\n          }\r\n         \r\n         }\r\n\r\ncompilemsg(index):string{\r\n  // var msg = this.articles[index].content + \"-\" + this.articles[index].title ;\r\n  // return msg.concat(\" \\n Sent from my Awesome App !\");\r\n  return 'abc';\r\n}\r\n\r\nregularShare(index){\r\n  var msg = this.compilemsg(index);\r\n  this.socialSharing.share(msg, null, null, null);\r\n}\r\n\r\nwhatsappShare(index){\r\n  var msg  = this.compilemsg(index);\r\n   this.socialSharing.shareViaWhatsApp(msg, null, null);\r\n }\r\n\r\ntwitterShare(index){\r\n  var msg  = this.compilemsg(index);\r\n  this.socialSharing.shareViaTwitter(msg, null, null);\r\n}\r\n\r\n   facebookShare(index){\r\n   var msg  = this.compilemsg(index);\r\n    this.socialSharing.shareViaFacebook(msg, null, null);\r\n  }\r\n\r\n   doRefresh(refresher) {\r\n    this.page = 1;\r\n    this.articles=[];\r\n   this.getArticles();     \r\n   // calls the getarticles method\r\n    setTimeout(() => {\r\n      refresher.complete(); // stops the refresher 2 seconds after retreiving the Data\r\n    }, 2000);\r\n  } \r\n\r\n\r\n  doInfinite(infiniteScroll) :Promise<any>{\r\n          this.page = this.page+1;\r\n          \r\n    //        this.loadData =  this.articleService.getMore(this.page,this.limit);//await  \r\n\r\n    //       console.log(this.loadData);\r\n    //       if(this.loadData.data){            \r\n    //          const newData =  this.loadData.data;     \r\n           \r\n    //          for (let i = 0; i < newData.length; i++) {\r\n    //               this.articles.push(newData[i]);\r\n    //           }\r\n    //       }\r\n  \r\n    //  setTimeout(() => {   \r\n    //   infiniteScroll.complete(); // stops the refresher 2 seconds after retreiving the Data\r\n    // }, 2000);\r\n\r\n\r\n  return new Promise(resolve => {\r\n   setTimeout(() => {\r\n          this.articleService.getMore(this.page,this.limit).then(\r\n          result => {\r\n            this.datas = result;\r\n            if (this.datas.data.length) {\r\n                this.noRecords = false;\r\n                const newData = this.datas.data;\r\n                //this.getData.lastCreated = this.datas.data[newData.length - 1].created;        \r\n        for (let i = 0; i < newData.length; i++) {\r\n            this.articles.push(newData[i]);\r\n        }\r\n        \r\n    } else {\r\n        this.noRecords = true;         \r\n    }\r\n    },\r\n    err => {\r\n    //Connection failed message\r\n    }\r\n    );\r\n    resolve();\r\n      infiniteScroll.complete(); \r\n    }, 500);\r\n    });\r\n\r\n}\r\n\r\n openPage(page: string) {\r\n    //this.navCtrl.push(page);\r\n    this.navCtrl.setRoot(page);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Pipe, NgZone, ChangeDetectorRef } from '@angular/core';\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\nvar TimeAgoPipe = /** @class */ (function () {\r\n    /**\r\n     * @param {?} changeDetectorRef\r\n     * @param {?} ngZone\r\n     */\r\n    function TimeAgoPipe(changeDetectorRef, ngZone) {\r\n        this.changeDetectorRef = changeDetectorRef;\r\n        this.ngZone = ngZone;\r\n    }\r\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    TimeAgoPipe.prototype.transform = function (value) {\r\n        var _this = this;\r\n        this.removeTimer();\r\n        var /** @type {?} */ d = new Date(value);\r\n        var /** @type {?} */ now = new Date();\r\n        var /** @type {?} */ seconds = Math.round(Math.abs((now.getTime() - d.getTime()) / 1000));\r\n        var /** @type {?} */ timeToUpdate = (Number.isNaN(seconds)) ? 1000 : this.getSecondsUntilUpdate(seconds) * 1000;\r\n        this.timer = this.ngZone.runOutsideAngular(function () {\r\n            if (typeof window !== 'undefined') {\r\n                return window.setTimeout(function () {\r\n                    _this.ngZone.run(function () { return _this.changeDetectorRef.markForCheck(); });\r\n                }, timeToUpdate);\r\n            }\r\n            return null;\r\n        });\r\n        var /** @type {?} */ minutes = Math.round(Math.abs(seconds / 60));\r\n        var /** @type {?} */ hours = Math.round(Math.abs(minutes / 60));\r\n        var /** @type {?} */ days = Math.round(Math.abs(hours / 24));\r\n        var /** @type {?} */ months = Math.round(Math.abs(days / 30.416));\r\n        var /** @type {?} */ years = Math.round(Math.abs(days / 365));\r\n        if (Number.isNaN(seconds)) {\r\n            return '';\r\n        }\r\n        else if (seconds <= 45) {\r\n            return 'a few seconds ago';\r\n        }\r\n        else if (seconds <= 90) {\r\n            return 'a minute ago';\r\n        }\r\n        else if (minutes <= 45) {\r\n            return minutes + ' minutes ago';\r\n        }\r\n        else if (minutes <= 90) {\r\n            return 'an hour ago';\r\n        }\r\n        else if (hours <= 22) {\r\n            return hours + ' hours ago';\r\n        }\r\n        else if (hours <= 36) {\r\n            return 'a day ago';\r\n        }\r\n        else if (days <= 25) {\r\n            return days + ' days ago';\r\n        }\r\n        else if (days <= 45) {\r\n            return 'a month ago';\r\n        }\r\n        else if (days <= 345) {\r\n            return months + ' months ago';\r\n        }\r\n        else if (days <= 545) {\r\n            return 'a year ago';\r\n        }\r\n        else {\r\n            // (days > 545)\r\n            return years + ' years ago';\r\n        }\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeAgoPipe.prototype.ngOnDestroy = function () {\r\n        this.removeTimer();\r\n    };\r\n    /**\r\n     * @return {?}\r\n     */\r\n    TimeAgoPipe.prototype.removeTimer = function () {\r\n        if (this.timer) {\r\n            window.clearTimeout(this.timer);\r\n            this.timer = null;\r\n        }\r\n    };\r\n    /**\r\n     * @param {?} seconds\r\n     * @return {?}\r\n     */\r\n    TimeAgoPipe.prototype.getSecondsUntilUpdate = function (seconds) {\r\n        var /** @type {?} */ min = 60;\r\n        var /** @type {?} */ hr = min * 60;\r\n        var /** @type {?} */ day = hr * 24;\r\n        if (seconds < min) {\r\n            // less than 1 min, update every 2 secs\r\n            return 2;\r\n        }\r\n        else if (seconds < hr) {\r\n            // less than an hour, update every 30 secs\r\n            return 30;\r\n        }\r\n        else if (seconds < day) {\r\n            // less then a day, update every 5 mins\r\n            return 300;\r\n        }\r\n        else {\r\n            // update every hour\r\n            return 3600;\r\n        }\r\n    };\r\n    return TimeAgoPipe;\r\n}());\r\nTimeAgoPipe.decorators = [\r\n    { type: Pipe, args: [{\r\n                name: 'timeAgo',\r\n                pure: false\r\n            },] },\r\n];\r\n/** @nocollapse */\r\nTimeAgoPipe.ctorParameters = function () { return [\r\n    { type: ChangeDetectorRef, },\r\n    { type: NgZone, },\r\n]; };\r\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes} checked by tsc\r\n */\r\n/**\r\n * Generated bundle index. Do not edit.\r\n */\r\nexport { TimeAgoPipe };\r\n//# sourceMappingURL=time-ago-pipe.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/time-ago-pipe/esm5/time-ago-pipe.js\n// module id = 763\n// module chunks = 10"],"sourceRoot":""}