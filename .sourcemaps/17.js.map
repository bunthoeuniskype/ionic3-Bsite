{"version":3,"sources":["../../src/pages/login-page/login-page.module.ts","../../src/pages/login-page/login-page.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {LoginPage} from './login-page';\nimport {TranslateModule} from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    LoginPage\n  ]\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login-page/login-page.module.ts","import {Component} from '@angular/core';\r\nimport {IonicPage, NavController, NavParams, MenuController} from 'ionic-angular';\r\nimport {Storage} from '@ionic/storage';\r\nimport {Validators, FormBuilder, FormGroup} from '@angular/forms';\r\nimport {AuthService} from '../../providers/auth-service';\r\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook';\r\nimport { GooglePlus } from '@ionic-native/google-plus';\r\nimport {UserModel} from '../../models/user.model';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-login-page',\r\n  templateUrl: 'login-page.html',\r\n})\r\nexport class LoginPage {\r\n\r\n  private loginData: FormGroup;\r\n  public user: UserModel;\r\n  public UserFB :any;\r\n  public UserGP :any;\r\n  isLoggedIn:boolean = false;\r\n  \r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public menuCtrl: MenuController,\r\n    public storage: Storage,\r\n    public formBuilder: FormBuilder,\r\n    public authService: AuthService,\r\n    public facebook:Facebook,\r\n    public googlePlus:GooglePlus) {\r\n\r\n    this.loginData = this.formBuilder.group({\r\n      email: ['', Validators.compose([Validators.required])],\r\n      password: ['', Validators.compose([Validators.required, Validators.minLength(6)])],\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    //hide menu when on the login page, regardless of the screen resolution\r\n    this.menuCtrl.enable(false);\r\n  }\r\n\r\n  login() {\r\n    //use this.loginData.value to authenticate the user\r\n    this.authService.login(this.loginData.value)\r\n    .then(res => {\r\n      //this.redirectToHome()\r\n    })\r\n      .catch(e => console.log(\"login error\", e));\r\n  }\r\n\r\n  redirectToHome() {\r\n    this.navCtrl.setRoot('FooterPage');\r\n    this.menuCtrl.enable(true);\r\n  }\r\n\r\n  loginWithFB() {\r\n    this.facebook.login(['email', 'public_profile']).then((response: FacebookLoginResponse) => {\r\n      this.facebook.api('me?fields=id,name,email,first_name,picture.width(720).height(720).as(picture_large)', []).then(profile => {\r\n       console.log(profile);\r\n       this.UserFB = {id: profile['id'],email: profile['email'], first_name: profile['first_name'], picture: profile['picture_large']['data']['url'], username: profile['name']}\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n  loginWithGP() {\r\n       this.googlePlus.login({})\r\n      .then(res => {\r\n        console.log(res);\r\n        this.UserGP = res;\r\n        console.log(res);\r\n        this.isLoggedIn = true;\r\n      })\r\n      .catch(err => console.error(err));\r\n  }\r\n\r\n  /**\r\n   * Opens a paage\r\n   * \r\n   * @param page string Page name\r\n   */\r\n  openPage(page: string) {\r\n    this.navCtrl.setRoot(page);\r\n    this.menuCtrl.enable(true);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login-page/login-page.ts"],"sourceRoot":""}