{"version":3,"sources":["../../src/pages/site-info/site-info.module.ts","../../src/pages/protected-page/protected-page.ts","../../src/pages/site-info/site-info.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { SiteInfoPage } from './site-info';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SiteInfoPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SiteInfoPage),\r\n  ],\r\n  exports: [\r\n   SiteInfoPage\r\n  ]\r\n})\r\nexport class SiteInfoPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/site-info/site-info.module.ts","import {NavController, NavParams} from 'ionic-angular';\r\nimport {Storage} from '@ionic/storage';\r\n\r\nexport class ProtectedPage {\r\n\r\n  constructor(\r\n    public navCtrl: NavController, \r\n    public navParams: NavParams, \r\n    public storage: Storage) {\r\n  }\r\n\r\n  ionViewCanEnter() {\r\n    this.storage.get('id_token').then(id_token => {\r\n      if (id_token === null) {\r\n        this.navCtrl.setRoot('LoginPage');\r\n        return false;\r\n      }\r\n    });\r\n\r\n    return true;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/protected-page/protected-page.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport {ProtectedPage} from '../protected-page/protected-page';\r\nimport {Storage} from '@ionic/storage';\r\nimport {ClientProvider} from '../../providers/client/client';\r\nimport {ClientModel} from '../../models/client.model';\r\n\r\n/**\r\n * Generated class for the SiteInfoPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-site-info',\r\n  templateUrl: 'site-info.html',\r\n})\r\nexport class SiteInfoPage extends ProtectedPage{\r\n\r\n  public datas: any;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public storage: Storage,public clientService: ClientProvider) {\r\n    \r\n    super(navCtrl, navParams, storage);     \r\n  }\r\n\r\n    ionViewWillEnter() {\r\n    this.clientService.getAll().then(res => this.datas = res.clients);\r\n  }\r\n  \r\n  dataInfo(client: ClientModel) {\r\n    this.navCtrl.push('SiteDetailPage', {client: client});\r\n  }\r\n\r\n  editInfo(client:ClientModel){\r\n     this.navCtrl.push('SiteEditPage', {client: client}); \r\n  }\r\n\r\n  deleteInfo(client: ClientModel){\r\n    let index = this.datas.indexOf(client);\r\n    // if(index > -1){\r\n    //   this.datas.splice(index, 1);\r\n    // }    \r\n    this.clientService.remove(client.id)\r\n      .then(res => (index > -1) ? this.datas.splice(index, 1) :  this.navCtrl.pop())\r\n      .catch(e => console.log(\"delete client error\", e)); \r\n  }\r\n\r\n  openPage(page: string) {\r\n    this.navCtrl.push(page);\r\n  }\r\n  \r\n  // ionViewDidLoad() {\r\n  //   console.log('ionViewDidLoad SiteInfoPage');\r\n  // }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/site-info/site-info.ts"],"sourceRoot":""}